{
  "swagger": "2.0",
  "info": {
    "title": "image/imageServer.proto",
    "version": "version not set"
  },
  "schemes": [
    "http",
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {},
  "definitions": {
    "QryHeartbeatRequestReqType": {
      "type": "string",
      "enum": [
        "UNDEFINED",
        "HEARTBEAT"
      ],
      "default": "UNDEFINED",
      "description": "- HEARTBEAT: 健康检测",
      "title": "镜像格式"
    },
    "QryHeartbeatResponseAppStatus": {
      "type": "string",
      "enum": [
        "UNDEFINED",
        "STOPPED",
        "ACTIVE",
        "UNKNOWN"
      ],
      "default": "UNDEFINED",
      "title": "- UNDEFINED: 未知\n - STOPPED: 活动中\n - ACTIVE: 未知\n - UNKNOWN: 已停止"
    },
    "QryHeartbeatResponseClusterInstance": {
      "type": "object",
      "properties": {
        "ipAddress": {
          "type": "string",
          "title": "应用ip"
        },
        "clusterName": {
          "type": "string",
          "title": "应用名，集群名"
        },
        "appStatus": {
          "$ref": "#/definitions/QryHeartbeatResponseAppStatus",
          "title": "运行状态"
        },
        "message": {
          "type": "string",
          "title": "信息"
        }
      },
      "title": "节点信息"
    },
    "QryHeartbeatResponseQryHeartbeatRsp": {
      "type": "object",
      "properties": {
        "clusterInstances": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/QryHeartbeatResponseClusterInstance"
          },
          "title": "应用信息"
        }
      },
      "title": "健康监测应答对象"
    },
    "QryImageInfoResponseImageInfoRsp": {
      "type": "object",
      "properties": {
        "imageId": {
          "type": "string",
          "format": "int64",
          "title": "镜像标识"
        },
        "imageName": {
          "type": "string",
          "title": "镜像名称"
        },
        "imageType": {
          "$ref": "#/definitions/ironicServerImageType",
          "title": "系统类型，使用枚举，比如常用的CentOS\\Ubuntu\\openSUSE等"
        },
        "version": {
          "type": "string",
          "title": "系统大版本号，比如CentOS的7.4,7.5,7.6等"
        },
        "subVersion": {
          "type": "string",
          "title": "系统的小版本号，例如CentOS7.4下的1708"
        },
        "format": {
          "$ref": "#/definitions/ironicServerImageFormat",
          "title": "镜像的格式，使用枚举，例如iso，qcow2等"
        },
        "checkSum": {
          "type": "string",
          "title": "镜像md5完整性校验码"
        },
        "uri": {
          "type": "string",
          "title": "镜像存储在ceph或者其他后端存储的路径或者访问地址"
        },
        "remark": {
          "type": "string",
          "title": "镜像附加信息"
        },
        "imageAttrs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ironicServerImageAttrInfo"
          },
          "title": "镜像附加属性"
        }
      },
      "title": "镜像信息"
    },
    "QryImageInfoResponseQryImageInfoRsp": {
      "type": "object",
      "properties": {
        "imageInfoRsps": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/QryImageInfoResponseImageInfoRsp"
          },
          "title": "节点"
        },
        "pageInfo": {
          "$ref": "#/definitions/imageComPageInfo"
        }
      },
      "title": "查询镜像应答对象"
    },
    "imageComPageInfo": {
      "type": "object",
      "properties": {
        "pageIndex": {
          "type": "integer",
          "format": "int32",
          "title": "当前页"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "每页数量"
        },
        "pageCount": {
          "type": "integer",
          "format": "int32",
          "title": "总页数"
        },
        "rowCount": {
          "type": "integer",
          "format": "int32",
          "title": "总记录数"
        }
      },
      "title": "分页信息(每个服务通用的控制信息，当客户端发起请求时，信息填写如下)"
    },
    "imageComResultCode": {
      "type": "string",
      "enum": [
        "UNDEFINED",
        "FAIL",
        "SUCCESS"
      ],
      "default": "UNDEFINED",
      "description": "- UNDEFINED: 未定义\n - FAIL: 失败\n - SUCCESS: 成功",
      "title": "响应码"
    },
    "ironicServerImageAttrInfo": {
      "type": "object",
      "properties": {
        "attrName": {
          "type": "string",
          "title": "属性、标签名称：例如docker"
        },
        "attrAddType": {
          "type": "string",
          "title": "属性、标签的附加信息类型，例如可以说明是version表示版本号"
        },
        "attrAddValue": {
          "type": "string",
          "title": "属性、标签附加的值,例docker的版本CE或者EE"
        }
      }
    },
    "ironicServerImageFormat": {
      "type": "string",
      "enum": [
        "UNDEFINED_1",
        "ISO",
        "QCOW2"
      ],
      "default": "UNDEFINED_1",
      "title": "镜像格式"
    },
    "ironicServerImageType": {
      "type": "string",
      "enum": [
        "UNDEFINED_0",
        "CENTOS",
        "UBUNTU",
        "OPENSUSE"
      ],
      "default": "UNDEFINED_0",
      "title": "系统类型"
    },
    "ironicServerQryHeartbeatResponse": {
      "type": "object",
      "properties": {
        "resultCode": {
          "$ref": "#/definitions/imageComResultCode",
          "title": "响应码"
        },
        "resultMsg": {
          "type": "string",
          "title": "响应消息描述"
        },
        "resultObject": {
          "$ref": "#/definitions/QryHeartbeatResponseQryHeartbeatRsp",
          "title": "响应对象"
        }
      }
    },
    "ironicServerQryImageInfoResponse": {
      "type": "object",
      "properties": {
        "resultCode": {
          "$ref": "#/definitions/imageComResultCode",
          "title": "响应码"
        },
        "resultMsg": {
          "type": "string",
          "title": "响应消息描述"
        },
        "resultObject": {
          "$ref": "#/definitions/QryImageInfoResponseQryImageInfoRsp",
          "title": "响应对象"
        }
      }
    }
  }
}
